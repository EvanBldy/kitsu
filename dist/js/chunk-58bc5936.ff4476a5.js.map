{"version":3,"sources":["webpack:///./src/components/lists/EntityTaskList.vue?a72b","webpack:///src/components/lists/EntityTaskList.vue","webpack:///./src/components/lists/EntityTaskList.vue?7ce9","webpack:///./src/components/lists/EntityTaskList.vue","webpack:///./src/components/pages/Asset.vue?3609","webpack:///src/components/pages/Asset.vue","webpack:///./src/components/pages/Asset.vue?07ea","webpack:///./src/components/pages/Asset.vue","webpack:///./src/components/lists/EntityTaskList.vue?f529","webpack:///./src/components/pages/Asset.vue?c98f","webpack:///./src/components/mixins/entity.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","ref","_v","_s","$t","substring","attrs","isLoading","isError","entries","length","directives","name","rawName","value","expression","_l","taskId","key","id","class","selected","currentTask","on","$event","selectTask","getTask","getTaskType","currentProduction","_e","getTaskEstimation","getTaskDuration","getTaskStartDate","getTaskDueDate","isCurrentUserClient","isCurrentUserVendor","getAssignees","personId","personMap","get","staticRenderFns","mixins","components","TableInfo","TaskTypeCell","PeopleAvatar","ValidationTag","props","type","default","data","computed","mapGetters","sortedEntries","taskTypeAPriority","taskTypeBPriority","taskTypeA","localeCompare","taskTypeB","methods","mapActions","onBodyScroll","event","position","$refs","headerWrapper","style","left","task","taskMap","start_date","due_date","estimation","duration","entry","taskTypeMap","task_type_id","assignees","$emit","component","assetsPath","currentAsset","title","modals","edit","ready_for","tasks","onTaskSelected","descriptor","field_name","scheduleItems","children","tasksStartDate","tasksEndDate","castInShotsBySequence","sequenceShots","sequence_name","shot","shot_id","shotPath","shot_name","nb_occurences","castIn","isLoadin","castingAssetsByType","typeAssets","asset_type_name","asset","params","production_id","asset_id","asset_name","loading","errors","confirmEditAsset","ButtonSimple","ChevronLeftIcon","DescriptionCell","EditAssetModal","EntityThumbnail","EntityTaskList","PageSubtitle","PageTitle","Schedule","TaskInfo","TaskTypeName","mounted","clearSelectedTasks","getCurrentAsset","loadAssetCastIn","then","catch","console","resetData","assetThumbnailPath","isPreview","query","search","currentEpisode","route","changeTab","tab","selectedTab","assetMap","onEditClicked","form","editAsset","$route","episode_id","setCurrentEpisode","$nextTick","watch","isTVShow","metaInfo","entityMixin","created","beforeDestroy","currentTasks","entity","currentShot","map","filter","sort","a","b","getTaskTypePriority","getFirstStartDate","moment","getLastEndDate","add","manDays","rootElement","avatar","color","priority","expanded","editable","limitStartDate","endDate","formatDuration","startDate","clone","real_start_date","end_date","parseDate","isBefore","taskType","man_days","unresizable","parentElement","c","rootStartDate","rootEndDate","Object","assign"],"mappings":"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","file":"js/chunk-58bc5936.ff4476a5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-list\"},[_c('div',{staticStyle:{\"overflow\":\"hidden\"}},[_c('table',{ref:\"headerWrapper\",staticClass:\"datatable\"},[_c('thead',{staticClass:\"datatable-head\"},[_c('tr',{staticClass:\"datatable-row-header\"},[_c('th',{staticClass:\"type\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.task_type'))+\" \")]),_c('th',{staticClass:\"status\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.task_status'))+\" \")]),_c('th',{staticClass:\"estimation\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.estimation').substring(0, 3))+\". \")]),_c('th',{staticClass:\"estimation\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.duration').substring(0, 3))+\". \")]),_c('th',{staticClass:\"startdate\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.start_date_short'))+\" \")]),_c('th',{staticClass:\"duedate\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.due_date'))+\" \")]),_c('th',{staticClass:\"assignees\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.assignees'))+\" \")]),_c('th',{staticClass:\"end-cell\"})])])])]),_c('table-info',{attrs:{\"is-loading\":_vm.isLoading,\"is-error\":_vm.isError}}),(_vm.entries.length > 0)?_c('div',{directives:[{name:\"scroll\",rawName:\"v-scroll\",value:(_vm.onBodyScroll),expression:\"onBodyScroll\"}]},[_c('table',{staticClass:\"datatable\"},[_c('tbody',{staticClass:\"datatable-body\"},_vm._l((_vm.sortedEntries),function(taskId){return _c('tr',{key:typeof (taskId) === 'string' ? taskId : taskId.id,class:{\n            selected: _vm.currentTask && _vm.currentTask.id === taskId,\n            'datatable-row': true,\n            'datatable-row--selectable': true\n          },on:{\"click\":function($event){_vm.selectTask(_vm.getTask(taskId))}}},[(_vm.getTaskType(taskId))?_c('task-type-cell',{staticClass:\"type\",attrs:{\"task-type\":_vm.getTaskType(taskId),\"production-id\":_vm.currentProduction.id}}):_vm._e(),_c('td',{staticClass:\"status\"},[(_vm.getTask(taskId))?_c('validation-tag',{attrs:{\"task\":_vm.getTask(taskId),\"is-static\":true}}):_vm._e()],1),_c('td',{staticClass:\"estimation\"},[_vm._v(\" \"+_vm._s(_vm.getTaskEstimation(taskId))+\" \")]),_c('td',{staticClass:\"estimation\"},[_vm._v(\" \"+_vm._s(_vm.getTaskDuration(taskId))+\" \")]),_c('td',{staticClass:\"startdate\"},[_vm._v(\" \"+_vm._s(_vm.getTaskStartDate(taskId))+\" \")]),_c('td',{staticClass:\"duedate\"},[_vm._v(\" \"+_vm._s(_vm.getTaskDueDate(taskId))+\" \")]),_c('td',{staticClass:\"assignees\"},[(!_vm.isCurrentUserClient && !_vm.isCurrentUserVendor)?_c('div',{staticClass:\"flexrow\"},_vm._l((_vm.getAssignees(taskId)),function(personId){return _c('div',{key:personId,staticClass:\"avatar-wrapper\"},[_c('people-avatar',{key:taskId + '-' + personId,staticClass:\"person-avatar flexrow-item\",attrs:{\"person\":_vm.personMap.get(personId),\"size\":30,\"font-size\":15}})],1)}),0):_vm._e()]),_c('td',{staticClass:\"end-cell\"})],1)}),0)])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"data-list\">\n\n  <div style=\"overflow: hidden\">\n    <table class=\"datatable\" ref=\"headerWrapper\">\n      <thead class=\"datatable-head\">\n        <tr class=\"datatable-row-header\">\n          <th class=\"type\">\n            {{ $t('tasks.fields.task_type') }}\n          </th>\n          <th class=\"status\">\n            {{ $t('tasks.fields.task_status') }}\n          </th>\n          <th class=\"estimation\">\n            {{ $t('tasks.fields.estimation').substring(0, 3) }}.\n          </th>\n          <th class=\"estimation\">\n            {{ $t('tasks.fields.duration').substring(0, 3) }}.\n          </th>\n          <th class=\"startdate\">\n            {{ $t('tasks.fields.start_date_short') }}\n          </th>\n          <th class=\"duedate\">\n            {{ $t('tasks.fields.due_date') }}\n          </th>\n          <th class=\"assignees\">\n            {{ $t('tasks.fields.assignees') }}\n          </th>\n          <th class=\"end-cell\"></th>\n        </tr>\n      </thead>\n    </table>\n  </div>\n\n  <table-info\n    :is-loading=\"isLoading\"\n    :is-error=\"isError\"\n  />\n\n  <div v-scroll=\"onBodyScroll\" v-if=\"entries.length > 0\">\n    <table class=\"datatable\">\n      <tbody class=\"datatable-body\">\n        <tr\n          :key=\"typeof (taskId) === 'string' ? taskId : taskId.id\"\n          :class=\"{\n            selected: currentTask && currentTask.id === taskId,\n            'datatable-row': true,\n            'datatable-row--selectable': true\n          }\"\n          @click=\"selectTask(getTask(taskId))\"\n          v-for=\"taskId in sortedEntries\"\n        >\n          <task-type-cell\n            class=\"type\"\n            :task-type=\"getTaskType(taskId)\"\n            :production-id=\"currentProduction.id\"\n            v-if=\"getTaskType(taskId)\"\n          />\n          <td class=\"status\">\n            <validation-tag\n              :task=\"getTask(taskId)\"\n              :is-static=\"true\"\n              v-if=\"getTask(taskId)\"\n            />\n          </td>\n          <td class=\"estimation\">\n            {{ getTaskEstimation(taskId) }}\n          </td>\n          <td class=\"estimation\">\n            {{ getTaskDuration(taskId) }}\n          </td>\n          <td class=\"startdate\">\n            {{ getTaskStartDate(taskId) }}\n          </td>\n          <td class=\"duedate\">\n            {{ getTaskDueDate(taskId) }}\n          </td>\n          <td class=\"assignees\">\n            <div\n              class=\"flexrow\"\n              v-if=\"!isCurrentUserClient && !isCurrentUserVendor\"\n            >\n              <div\n                class=\"avatar-wrapper\"\n                :key=\"personId\"\n                v-for=\"personId in getAssignees(taskId)\"\n              >\n                <people-avatar\n                  class=\"person-avatar flexrow-item\"\n                  :key=\"taskId + '-' + personId\"\n                  :person=\"personMap.get(personId)\"\n                  :size=\"30\"\n                  :font-size=\"15\"\n                />\n              </div>\n            </div>\n          </td>\n          <td class=\"end-cell\"></td>\n       </tr>\n      </tbody>\n    </table>\n  </div>\n\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport { formatListMixin } from '@/components/mixins/format'\n\nimport TaskTypeCell from '../cells/TaskTypeName'\nimport TableInfo from '../widgets/TableInfo'\nimport ValidationTag from '../widgets/ValidationTag'\nimport PeopleAvatar from '../widgets/PeopleAvatar'\n\nexport default {\n  name: 'entity-task-list',\n  mixins: [formatListMixin],\n\n  components: {\n    TableInfo,\n    TaskTypeCell,\n    PeopleAvatar,\n    ValidationTag\n  },\n\n  props: {\n    entries: {\n      type: Array,\n      default: () => []\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data () {\n    return {\n      currentTask: null\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'getTaskTypePriority',\n      'isCurrentUserClient',\n      'isCurrentUserVendor',\n      'personMap',\n      'taskMap',\n      'taskTypeMap'\n    ]),\n\n    sortedEntries () {\n      return [...this.entries].sort((taskIdA, taskIdB) => {\n        const taskA = this.getTask(taskIdA)\n        const taskB = this.getTask(taskIdB)\n        const taskTypeA = this.taskTypeMap.get(taskA.task_type_id)\n        const taskTypeB = this.taskTypeMap.get(taskB.task_type_id)\n        const taskTypeAPriority = this.getTaskTypePriority(taskA.task_type_id)\n        const taskTypeBPriority = this.getTaskTypePriority(taskB.task_type_id)\n        if (taskTypeAPriority === taskTypeBPriority) {\n          return taskTypeA.name.localeCompare(taskTypeB.name)\n        } else {\n          return taskTypeAPriority - taskTypeBPriority\n        }\n      })\n    }\n  },\n\n  methods: {\n    ...mapActions([\n    ]),\n\n    onBodyScroll (event, position) {\n      this.$refs.headerWrapper.style.left = `-${position.scrollLeft}px`\n    },\n\n    getTask (task) {\n      if (typeof (task) === 'string') {\n        return this.taskMap.get(task)\n      } else {\n        return task\n      }\n    },\n\n    getTaskStartDate (taskId) {\n      const task = this.getTask(taskId)\n      return task && task.start_date\n        ? task.start_date.substring(0, 10)\n        : ''\n    },\n\n    getTaskDueDate (taskId) {\n      const task = this.getTask(taskId)\n      return task && task.due_date\n        ? task.due_date.substring(0, 10)\n        : ''\n    },\n\n    getTaskEstimation (taskId) {\n      const task = this.getTask(taskId)\n      return task && task.estimation\n        ? this.formatDuration(task.estimation)\n        : ''\n    },\n\n    getTaskDuration (taskId) {\n      const task = this.getTask(taskId)\n      return task && task.duration\n        ? this.formatDuration(task.duration)\n        : ''\n    },\n\n    getTaskType (entry) {\n      const task = this.getTask(entry)\n      return task ? this.taskTypeMap.get(task.task_type_id) : null\n    },\n\n    getAssignees (entry) {\n      const task = this.getTask(entry)\n      return task ? task.assignees : []\n    },\n\n    selectTask (task) {\n      this.currentTask = task\n      this.$emit('task-selected', task)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.data-list {\n  max-width: 500px;\n  margin-top: 0;\n}\n\n.type {\n  max-width: 250px;\n  min-width: 250px;\n}\n\n.estimation {\n  max-width: 50px;\n  min-width: 50px;\n}\n\n.startdate,\n.duedate {\n  max-width: 100px;\n  min-width: 100px;\n}\n\n.status {\n  max-width: 100px;\n  min-width: 100px;\n}\n\n.assignees {\n  max-width: 150px;\n  min-width: 150px;\n}\n\n.end-cell {\n  width: 100%;\n}\n\n.flexrow-item {\n  margin-right: 0.3em;\n}\n\n.avatar-wrapper {\n  margin-right: 0.5em;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTaskList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTaskList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntityTaskList.vue?vue&type=template&id=3051ceb0&scoped=true&\"\nimport script from \"./EntityTaskList.vue?vue&type=script&lang=js&\"\nexport * from \"./EntityTaskList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EntityTaskList.vue?vue&type=style&index=0&id=3051ceb0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3051ceb0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns fixed-page asset\"},[_c('div',{staticClass:\"column main-column\"},[_c('div',{staticClass:\"page-header flexrow\"},[_c('router-link',{staticClass:\"flexrow-item has-text-centered back-link\",attrs:{\"to\":_vm.assetsPath}},[_c('chevron-left-icon')],1),(_vm.currentAsset)?_c('entity-thumbnail',{staticClass:\"asset-thumbnail flexrow-item\",attrs:{\"entity\":_vm.currentAsset,\"with-link\":false}}):_vm._e(),_c('div',{staticClass:\"flexrow-item\"},[_c('page-title',{staticClass:\"entity-title\",attrs:{\"text\":_vm.title}})],1),_c('div',{staticClass:\"flexrow-item\"},[(_vm.isCurrentUserManager)?_c('button-simple',{attrs:{\"icon\":\"edit\"},on:{\"click\":function($event){_vm.modals.edit = true}}}):_vm._e()],1),_c('div',{staticClass:\"filler\"}),(_vm.currentAsset && _vm.currentAsset.ready_for)?_c('div',{staticClass:\"ready-for flexrow\"},[_c('span',{staticClass:\"flexrow-item\"},[_vm._v(\" Ready for: \")]),_c('task-type-name',{staticClass:\"flexrow-item\",attrs:{\"task-type\":_vm.taskTypeMap.get(_vm.currentAsset.ready_for),\"current-production-id\":this.currentProduction.id}})],1):_vm._e()],1),_c('div',{staticClass:\"flexrow infos\"},[_c('div',{staticClass:\"flexrow-item\"},[_c('page-subtitle',{attrs:{\"text\":_vm.$t('assets.tasks')}}),_c('entity-task-list',{staticClass:\"task-list\",attrs:{\"entries\":_vm.currentAsset ? _vm.currentAsset.tasks : [],\"is-loading\":!_vm.currentAsset,\"is-error\":false},on:{\"task-selected\":_vm.onTaskSelected}})],1),_c('div',{staticClass:\"flexrow-item\"},[_c('page-subtitle',{attrs:{\"text\":_vm.$t('main.info')}}),_c('div',{staticClass:\"table-body\"},[(_vm.currentAsset)?_c('table',{staticClass:\"datatable\"},[_c('tbody',{staticClass:\"table-body\"},[_c('tr',{staticClass:\"datatable-row\"},[_c('td',{staticClass:\"field-label\"},[_vm._v(_vm._s(_vm.$t('assets.fields.description')))]),_c('description-cell',{attrs:{\"entry\":_vm.currentAsset,\"full\":true}})],1),_vm._l((_vm.assetMetadataDescriptors),function(descriptor){return _c('tr',{key:descriptor.id,staticClass:\"datatable-row\"},[_c('td',{staticClass:\"field-label\"},[_vm._v(_vm._s(descriptor.name))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.currentAsset.data ? _vm.currentAsset.data[descriptor.field_name] : '')+\" \")])])})],2)]):_vm._e()])],1)]),(_vm.scheduleItems[0].children.length > 0)?_c('div',{staticClass:\"infos schedule\"},[_c('page-subtitle',{staticClass:\"schedule-title\",attrs:{\"text\":\"Schedule\"}}),_c('div',{staticClass:\"wrapper\"},[_c('schedule',{ref:\"schedule-widget\",attrs:{\"start-date\":_vm.tasksStartDate,\"end-date\":_vm.tasksEndDate,\"hierarchy\":_vm.scheduleItems,\"zoom-level\":1,\"height\":400,\"is-loading\":false,\"is-estimation-linked\":true,\"hide-root\":true,\"with-milestones\":false}})],1)],1):_vm._e(),_c('div',{staticClass:\"asset-casted-in\"},[_c('page-subtitle',{attrs:{\"text\":_vm.$t('assets.cast_in')}}),(_vm.currentAsset)?_c('div',[(_vm.currentAsset.castInShotsBySequence &&\n                _vm.currentAsset.castInShotsBySequence[0].length > 0)?_c('div',_vm._l((_vm.currentAsset.castInShotsBySequence),function(sequenceShots){return (sequenceShots[0].sequence_name)?_c('div',{key:sequenceShots.length > 0 ? sequenceShots[0].sequence_name : '',staticClass:\"sequence-shots\"},[_c('div',{staticClass:\"shot-sequence\"},[_vm._v(\" \"+_vm._s(sequenceShots.length > 0 ? sequenceShots[0].sequence_name : '')+\" \")]),_c('div',{staticClass:\"shot-list\"},_vm._l((sequenceShots),function(shot){return _c('router-link',{key:shot.shot_id,staticClass:\"shot-link\",attrs:{\"to\":_vm.shotPath(shot)}},[_c('entity-thumbnail',{attrs:{\"entity\":shot,\"square\":true,\"empty-width\":103,\"empty-height\":103,\"with-link\":false}}),_c('div',[_c('span',[_vm._v(_vm._s(shot.shot_name))]),(shot.nb_occurences > 1)?_c('span',[_vm._v(\" (\"+_vm._s(shot.nb_occurences)+\") \")]):_vm._e()])],1)}),1)]):_vm._e()}),0):_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('assets.no_cast_in'))+\" \")])]):_c('table-info',{attrs:{\"is-loading\":_vm.castIn.isLoadin,\"is-error\":_vm.castIn.isError}}),(_vm.currentAsset && _vm.currentAsset.castingAssetsByType &&\n          _vm.currentAsset.castingAssetsByType[0].length > 0)?_c('div',[_c('page-subtitle',{attrs:{\"text\":\"Linked\"}}),(_vm.currentAsset.castingAssetsByType && _vm.currentAsset.castingAssetsByType[0].length > 0)?_c('div',_vm._l((_vm.currentAsset.castingAssetsByType),function(typeAssets){return _c('div',{key:typeAssets.length > 0 ? typeAssets[0].asset_type_name : '',staticClass:\"type-assets\"},[_c('div',{staticClass:\"asset-type\"},[_vm._v(\" \"+_vm._s(typeAssets.length > 0 ? typeAssets[0].asset_type_name : '')+\" (\"+_vm._s(typeAssets.length)+\") \")]),_c('div',{staticClass:\"asset-list\"},_vm._l((typeAssets),function(asset){return _c('router-link',{key:asset.id,staticClass:\"asset-link\",attrs:{\"to\":{\n                  name: 'asset',\n                  params: {\n                    production_id: _vm.currentProduction.id,\n                    asset_id: asset.asset_id\n                  }\n                }}},[_c('entity-thumbnail',{attrs:{\"entity\":asset,\"square\":true,\"empty-width\":103,\"empty-height\":103,\"with-link\":false}}),_c('div',[_c('span',[_vm._v(_vm._s(asset.asset_name))]),(asset.nb_occurences > 1)?_c('span',[_vm._v(\" (\"+_vm._s(asset.nb_occurences)+\") \")]):_vm._e()])],1)}),1)])}),0):_vm._e()],1):_vm._e()],1)]),(_vm.currentTask)?_c('div',{staticClass:\"column side-column\"},[_c('task-info',{attrs:{\"task\":_vm.currentTask}})],1):_vm._e(),_c('edit-asset-modal',{ref:\"edit-asset-modal\",attrs:{\"active\":_vm.modals.edit,\"is-loading\":_vm.loading.edit,\"is-error\":_vm.errors.edit,\"asset-to-edit\":_vm.currentAsset},on:{\"cancel\":function($event){_vm.modals.edit = false},\"confirm\":_vm.confirmEditAsset}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"columns fixed-page asset\">\n  <div class=\"column main-column\">\n    <div class=\"page-header flexrow\">\n      <router-link\n        class=\"flexrow-item has-text-centered back-link\"\n        :to=\"assetsPath\"\n      >\n        <chevron-left-icon />\n      </router-link>\n      <entity-thumbnail\n        class=\"asset-thumbnail flexrow-item\"\n        :entity=\"currentAsset\"\n        :with-link=\"false\"\n        v-if=\"currentAsset\"\n      />\n      <div class=\"flexrow-item\">\n        <page-title :text=\"title\" class=\"entity-title\" />\n      </div>\n      <div class=\"flexrow-item\">\n        <button-simple\n          icon=\"edit\"\n          @click=\"modals.edit = true\"\n          v-if=\"isCurrentUserManager\"\n        />\n      </div>\n      <div class=\"filler\">\n      </div>\n      <div\n        class=\"ready-for flexrow\"\n        v-if=\"currentAsset && currentAsset.ready_for\"\n      >\n        <span class=\"flexrow-item\">\n          Ready for:\n        </span>\n        <task-type-name\n          class=\"flexrow-item\"\n          :task-type=\"taskTypeMap.get(currentAsset.ready_for)\"\n          :current-production-id=\"this.currentProduction.id\"\n        />\n      </div>\n    </div>\n\n    <div class=\"flexrow infos\">\n      <div class=\"flexrow-item\">\n        <page-subtitle :text=\"$t('assets.tasks')\" />\n        <entity-task-list\n          class=\"task-list\"\n          :entries=\"currentAsset ? currentAsset.tasks : []\"\n          :is-loading=\"!currentAsset\"\n          :is-error=\"false\"\n          @task-selected=\"onTaskSelected\"\n        />\n      </div>\n      <div class=\"flexrow-item\">\n        <page-subtitle :text=\"$t('main.info')\" />\n        <div class=\"table-body\">\n          <table class=\"datatable\" v-if=\"currentAsset\">\n            <tbody class=\"table-body\">\n              <tr\n                class=\"datatable-row\"\n              >\n                <td class=\"field-label\">{{ $t('assets.fields.description') }}</td>\n                <description-cell\n                  :entry=\"currentAsset\"\n                  :full=\"true\"\n                />\n              </tr>\n              <tr\n                :key=\"descriptor.id\"\n                class=\"datatable-row\"\n                v-for=\"descriptor in assetMetadataDescriptors\"\n              >\n                <td class=\"field-label\">{{ descriptor.name }}</td>\n                <td>\n                  {{ currentAsset.data ? currentAsset.data[descriptor.field_name] : '' }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"infos schedule\" v-if=\"scheduleItems[0].children.length > 0\">\n      <page-subtitle class=\"schedule-title\" text=\"Schedule\" />\n      <div class=\"wrapper\">\n        <schedule\n          ref=\"schedule-widget\"\n          :start-date=\"tasksStartDate\"\n          :end-date=\"tasksEndDate\"\n          :hierarchy=\"scheduleItems\"\n          :zoom-level=\"1\"\n          :height=\"400\"\n          :is-loading=\"false\"\n          :is-estimation-linked=\"true\"\n          :hide-root=\"true\"\n          :with-milestones=\"false\"\n        />\n      </div>\n    </div>\n\n    <div class=\"asset-casted-in\">\n      <page-subtitle :text=\"$t('assets.cast_in')\" />\n      <div v-if=\"currentAsset\">\n        <div\n          v-if=\"currentAsset.castInShotsBySequence &&\n                currentAsset.castInShotsBySequence[0].length > 0\"\n        >\n          <div\n            class=\"sequence-shots\"\n            :key=\"sequenceShots.length > 0 ? sequenceShots[0].sequence_name : ''\"\n            v-if=\"sequenceShots[0].sequence_name\"\n            v-for=\"sequenceShots in currentAsset.castInShotsBySequence\"\n          >\n            <div class=\"shot-sequence\">\n              {{ sequenceShots.length > 0 ? sequenceShots[0].sequence_name : '' }}\n            </div>\n            <div class=\"shot-list\">\n              <router-link\n                class=\"shot-link\"\n                :key=\"shot.shot_id\"\n                :to=\"shotPath(shot)\"\n                v-for=\"shot in sequenceShots\"\n              >\n                <entity-thumbnail\n                  :entity=\"shot\"\n                  :square=\"true\"\n                  :empty-width=\"103\"\n                  :empty-height=\"103\"\n                  :with-link=\"false\"\n                />\n                <div>\n                  <span>{{ shot.shot_name }}</span>\n                  <span v-if=\"shot.nb_occurences > 1\">\n                    ({{ shot.nb_occurences }})\n                  </span>\n                </div>\n              </router-link>\n            </div>\n          </div>\n        </div>\n        <div v-else>\n          {{ $t('assets.no_cast_in') }}\n        </div>\n      </div>\n      <table-info\n        :is-loading=\"castIn.isLoadin\"\n        :is-error=\"castIn.isError\"\n        v-else\n      />\n\n      <div v-if=\"currentAsset && currentAsset.castingAssetsByType &&\n          currentAsset.castingAssetsByType[0].length > 0\">\n        <page-subtitle text=\"Linked\" />\n        <div\n            v-if=\"currentAsset.castingAssetsByType && currentAsset.castingAssetsByType[0].length > 0\"\n        >\n          <div\n            class=\"type-assets\"\n            :key=\"typeAssets.length > 0 ? typeAssets[0].asset_type_name : ''\"\n            v-for=\"typeAssets in currentAsset.castingAssetsByType\"\n          >\n            <div class=\"asset-type\">\n              {{ typeAssets.length > 0 ? typeAssets[0].asset_type_name : '' }}\n              ({{ typeAssets.length }})\n            </div>\n            <div class=\"asset-list\">\n              <router-link\n                class=\"asset-link\"\n                :key=\"asset.id\"\n                :to=\"{\n                  name: 'asset',\n                  params: {\n                    production_id: currentProduction.id,\n                    asset_id: asset.asset_id\n                  }\n                }\"\n                v-for=\"asset in typeAssets\"\n              >\n                <entity-thumbnail\n                  :entity=\"asset\"\n                  :square=\"true\"\n                  :empty-width=\"103\"\n                  :empty-height=\"103\"\n                  :with-link=\"false\"\n                />\n                <div>\n                  <span>{{ asset.asset_name }}</span>\n                  <span v-if=\"asset.nb_occurences > 1\">\n                    ({{ asset.nb_occurences }})\n                  </span>\n                </div>\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div\n    class=\"column side-column\"\n    v-if=\"currentTask\"\n  >\n    <task-info\n      :task=\"currentTask\"\n    />\n  </div>\n\n  <edit-asset-modal\n    ref=\"edit-asset-modal\"\n    :active=\"modals.edit\"\n    :is-loading=\"loading.edit\"\n    :is-error=\"errors.edit\"\n    :asset-to-edit=\"currentAsset\"\n    @cancel=\"modals.edit = false\"\n    @confirm=\"confirmEditAsset\"\n  />\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport { entityMixin } from '@/components/mixins/entity'\nimport { formatListMixin } from '@/components/mixins/format'\n\nimport { ChevronLeftIcon } from 'vue-feather-icons'\nimport ButtonSimple from '../widgets/ButtonSimple'\nimport DescriptionCell from '../cells/DescriptionCell'\nimport EditAssetModal from '../modals/EditAssetModal'\nimport EntityTaskList from '../lists/EntityTaskList'\nimport EntityThumbnail from '../widgets/EntityThumbnail'\nimport PageTitle from '../widgets/PageTitle'\nimport PageSubtitle from '../widgets/PageSubtitle'\nimport Schedule from '../pages/schedule/Schedule'\nimport TableInfo from '../widgets/TableInfo'\nimport TaskTypeName from '../widgets/TaskTypeName'\nimport TaskInfo from '../sides/TaskInfo'\n\nexport default {\n  name: 'asset',\n  mixins: [entityMixin, formatListMixin],\n  components: {\n    ButtonSimple,\n    ChevronLeftIcon,\n    DescriptionCell,\n    EditAssetModal,\n    EntityThumbnail,\n    EntityTaskList,\n    PageSubtitle,\n    PageTitle,\n    Schedule,\n    TableInfo,\n    TaskInfo,\n    TaskTypeName\n  },\n\n  data () {\n    return {\n      currentAsset: null,\n      currentTask: null,\n      castIn: {\n        isLoading: false,\n        isError: false\n      },\n      errors: {\n        edit: false\n      },\n      loading: {\n        edit: false\n      },\n      modals: {\n        edit: false\n      }\n    }\n  },\n\n  mounted () {\n    this.clearSelectedTasks()\n    this.currentAsset = this.getCurrentAsset()\n\n    this.castIn.isLoading = true\n    this.castIn.isError = false\n    if (this.currentAsset) {\n      this.loadAssetCastIn(this.currentAsset)\n        .then(() => this.loadAssetCasting(this.currentAsset))\n        .then(() => {\n          this.castIn.isLoading = false\n        })\n        .catch((err) => {\n          this.castIn.isError = true\n          console.error(err)\n        })\n    } else {\n      this.resetData()\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'assetMap',\n      'assetMetadataDescriptors',\n      'currentEpisode',\n      'currentProduction',\n      'getTaskTypePriority',\n      'isTVShow',\n      'isCurrentUserManager',\n      'route',\n      'taskMap',\n      'taskTypeMap',\n      'shotId'\n    ]),\n\n    title () {\n      if (this.currentAsset) {\n        return `${this.currentAsset.asset_type_name} / ` +\n               `${this.currentAsset.name}`\n      } else {\n        return 'Loading...'\n      }\n    },\n\n    assetThumbnailPath () {\n      const previewId = this.currentAsset.preview_file_id\n      return `/api/pictures/originals/preview-files/${previewId}.png`\n    },\n\n    isPreview () {\n      return this.currentAsset &&\n        this.currentAsset.preview_file_id &&\n        this.currentAsset.preview_file_id.length > 0\n    },\n\n    assetsPath () {\n      const route = {\n        name: 'assets',\n        params: {\n          production_id: this.currentProduction.id\n        },\n        query: {\n          search: ''\n        }\n      }\n      if (this.currentEpisode) {\n        route.name = 'episode-assets'\n        route.params.episode_id = this.currentEpisode.id\n      }\n      return route\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'clearSelectedTasks',\n      'editAsset',\n      'loadAssets',\n      'loadAssetCastIn',\n      'loadAssetCasting',\n      'loadShots',\n      'setCurrentEpisode'\n    ]),\n\n    changeTab (tab) {\n      this.selectedTab = tab\n    },\n\n    getCurrentAsset () {\n      return this.assetMap.get(this.route.params.asset_id) || null\n    },\n\n    onEditClicked () {\n      this.modals.edit = true\n    },\n\n    confirmEditAsset (form) {\n      form.id = this.currentAsset.id\n      this.loading.edit = true\n      this.errors.edit = false\n      this.editAsset(form)\n        .then(() => {\n          this.loading.edit = false\n          this.modals.edit = false\n        })\n        .catch((err) => {\n          console.error(err)\n          this.loading.edit = false\n          this.errors.edit = true\n        })\n    },\n\n    onTaskSelected (task) {\n      this.currentTask = task\n    },\n\n    resetData () {\n      this.castIn.isLoading = true\n      if (this.$route.params.episode_id === 'main') {\n        this.setCurrentEpisode('main')\n      }\n      // Next tick is needed to wait for the episode change.\n      this.$nextTick(() => {\n        this.loadAssets()\n          .then(() => {\n            this.currentAsset = this.getCurrentAsset()\n            return this.loadAssetCastIn(this.currentAsset)\n          })\n          .then(() => this.loadAssetCasting(this.currentAsset))\n          .then(() => {\n            this.castIn.isLoading = false\n          })\n          .catch((err) => {\n            this.castIn.isError = true\n            this.castIn.isLoading = false\n            console.error(err)\n          })\n      })\n    },\n\n    shotPath (shot) {\n      return {\n        name: shot.episode_id ? 'episode-shot' : 'shot',\n        params: {\n          production_id: this.currentProduction.id,\n          shot_id: shot.shot_id,\n          episode_id: shot.episode_id ? shot.episode_id : undefined\n        }\n      }\n    }\n  },\n\n  watch: { // Needed when reloading the page with F5\n    currentProduction () {\n      if (!this.isTVShow) this.resetData()\n    },\n\n    currentEpisode () {\n      if (this.isTVShow && this.currentEpisode.id !== 'main') this.resetData()\n    }\n  },\n\n  metaInfo () {\n    return {\n      title: `${this.title} - Kitsu`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .page {\n    padding-bottom: 1em;\n  }\n\n  .page-header,\n  .asset-casted-in,\n  .infos,\n  .column {\n    background: #46494F;\n    border-color: $dark-grey;\n    box-shadow: 0px 0px 6px #333;\n  }\n\n  .task-list,\n  .table-body {\n    border: 1px solid $dark-grey;\n  }\n\n  .wrapper {\n    background: $dark-grey-2;\n  }\n}\n\nh2.subtitle {\n  margin-top: 0;\n  margin-bottom: 0.5em;\n  font-weight: 300;\n  font-size: 1.5em;\n}\n\n.column.main-column {\n  background: var(--background-page);\n  padding-bottom: 1em;\n}\n\n.page-header {\n  padding: 1em 1em 1em 1em;\n  background: white;\n  box-shadow: 0px 0px 6px #E0E0E0;\n  margin-top: calc(50px + 2em);\n  margin-bottom: 1.5em;\n  margin-left: 1em;\n  margin-right: 1em;\n}\n\n.infos {\n  padding: 1em 1em 1em 1em;\n  background: white;\n  box-shadow: 0px 0px 6px #E0E0E0;\n  margin-bottom: 1.5em;\n  margin-left: 1em;\n  margin-right: 1em;\n\n  .flexrow-item {\n    align-self: flex-start;\n    flex: 1;\n  }\n}\n\n.asset-casting,\n.asset-casted-in {\n  margin-left: 1em;\n  margin-right: 1em;\n  background: white;\n  padding: 1em;\n  box-shadow: 0px 0px 6px #E0E0E0;\n}\n\n.thumbnail-picture {\n  margin-bottom: 0.5em;\n}\n\n.sequence-shots {\n  margin-bottom: 3em;\n}\n\n.asset-type,\n.shot-sequence {\n  text-transform: uppercase;\n  font-size: 1.2em;\n  color: var(--text);\n  margin-top: 2em;\n  margin-bottom: 0.4em;\n}\n\n.asset-list,\n.shot-list {\n  color: var(--text);\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.asset-link,\n.shot-link {\n  color: inherit;\n  margin-right: 1em;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: 0.8em;\n}\n\n.asset-link div,\n.shot-link div {\n  max-width: 100px;\n}\n\n.asset-link span,\n.shot-link span {\n  word-wrap: break-word;\n}\n\n.field-label {\n  font-weight: bold;\n  width: 120px;\n}\n\n.page-header {\n  align-items: center;\n}\n\n.page-header .thumbnail-picture {\n  margin: 0 1em 0 0;\n  max-width: 80px;\n}\n\n.back-link {\n  padding-top: 3px;\n}\n\n.task-list {\n  max-width: 100%;\n}\n\n.datatable-row {\n  user-select: text;\n}\n\n.schedule {\n  position: relative;\n  height: 300px;\n  padding: 10px;\n\n  .schedule-title {\n    margin-bottom: 5px;\n  }\n\n  .wrapper {\n    height: 230px;\n    border-radius: 10px;\n  }\n}\n\n@media screen and (max-width: 768px) {\n  .task-column {\n    margin-bottom: 1em;\n  }\n\n  .column:first-child {\n    margin-right: 0;\n  }\n\n  .entity-title {\n    font-size: 1.3em;\n    line-height: 1.5em;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Asset.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Asset.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Asset.vue?vue&type=template&id=4515e43c&scoped=true&\"\nimport script from \"./Asset.vue?vue&type=script&lang=js&\"\nexport * from \"./Asset.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Asset.vue?vue&type=style&index=0&id=4515e43c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4515e43c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTaskList.vue?vue&type=style&index=0&id=3051ceb0&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Asset.vue?vue&type=style&index=0&id=4515e43c&lang=scss&scoped=true&\"","import {\n  getFirstStartDate,\n  getLastEndDate,\n  parseDate\n} from '@/lib/time'\nimport moment from 'moment'\n\n/*\n * Common functions to shot and asset pages.\n */\nexport const entityMixin = {\n\n  created () {\n  },\n\n  mounted () {\n  },\n\n  beforeDestroy () {\n  },\n\n  computed: {\n    currentTasks () {\n      const entity = this.currentAsset || this.currentShot\n      return entity\n        ? entity\n          .tasks\n          .map(taskId => this.taskMap.get(taskId))\n          .filter(task => task)\n          .sort((a, b) => {\n            const taskTypeAPriority = this.getTaskTypePriority(a.task_type_id)\n            const taskTypeBPriority = this.getTaskTypePriority(b.task_type_id)\n            return taskTypeAPriority - taskTypeBPriority\n          })\n        : []\n    },\n\n    tasksStartDate () {\n      if (this.scheduleItems.length > 0 &&\n          this.scheduleItems[0].children.length > 0) {\n        return getFirstStartDate(this.scheduleItems[0].children)\n      } else {\n        return moment()\n      }\n    },\n\n    tasksEndDate () {\n      if (this.scheduleItems.length > 0 &&\n          this.scheduleItems[0].children.length > 0) {\n        return getLastEndDate(this.scheduleItems[0].children)\n      } else {\n        return moment().add(30, 'days')\n      }\n    },\n\n    scheduleItems () {\n      let manDays = 0\n      const rootElement = {\n        avatar: false,\n        id: 'root',\n        name: 'Tasks',\n        color: '#888',\n        priority: 1,\n        expanded: true,\n        loading: false,\n        children: [],\n        editable: false\n      }\n      const limitStartDate = moment()\n      const children = this.currentTasks.map(task => {\n        const estimation = this.formatDuration(task.estimation)\n        let startDate = limitStartDate.clone()\n        let endDate\n\n        if (!task.start_date && !task.real_start_date &&\n            !task.due_date && !task.end_date) return null\n\n        if (task.start_date) {\n          startDate = parseDate(task.start_date)\n        } else if (task.real_start_date) {\n          startDate = parseDate(task.real_start_date)\n        }\n\n        if (task.due_date) {\n          endDate = parseDate(task.due_date)\n        } else if (task.end_date) {\n          endDate = parseDate(task.end_date)\n        } else if (task.estimation) {\n          endDate = startDate.clone().add(estimation, 'days')\n        }\n\n        if (!endDate || endDate.isBefore(startDate)) {\n          endDate = startDate.clone().add(1, 'days')\n        }\n        if (estimation) manDays += task.estimation\n        const taskType = this.taskTypeMap.get(task.task_type_id)\n\n        return {\n          ...task,\n          name: taskType.name,\n          startDate: startDate,\n          endDate: endDate,\n          expanded: false,\n          loading: false,\n          man_days: estimation,\n          editable: false,\n          unresizable: false,\n          parentElement: rootElement,\n          color: taskType.color,\n          children: []\n        }\n      }).filter(c => c !== null)\n      let rootStartDate = moment()\n      let rootEndDate = moment().add('days', 1)\n      if (children.length > 0) {\n        rootStartDate = getFirstStartDate(children)\n        rootEndDate = getLastEndDate(children)\n      }\n      Object.assign(rootElement, {\n        children: children,\n        startDate: rootStartDate,\n        endDate: rootEndDate,\n        man_days: manDays\n      })\n      return [rootElement]\n    }\n  },\n\n  methods: {\n  }\n}\n"],"sourceRoot":""}