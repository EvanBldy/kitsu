{"version":3,"sources":["webpack:///./src/components/lists/EntityTaskList.vue?ece4","webpack:///src/components/lists/EntityTaskList.vue","webpack:///./src/components/lists/EntityTaskList.vue?129b","webpack:///./src/components/lists/EntityTaskList.vue","webpack:///./src/components/pages/entities/EntityNews.vue?a2c7","webpack:///src/components/pages/entities/EntityNews.vue","webpack:///./src/components/pages/entities/EntityNews.vue?4c90","webpack:///./src/components/pages/entities/EntityNews.vue","webpack:///./src/components/pages/entities/EntityPreviewFiles.vue?e162","webpack:///./src/components/pages/entities/EntityTimeLogs.vue?61d1","webpack:///src/components/pages/entities/EntityTimeLogs.vue","webpack:///./src/components/pages/entities/EntityTimeLogs.vue?cd9a","webpack:///./src/components/pages/entities/EntityTimeLogs.vue","webpack:///./src/components/pages/entities/EntityNews.vue?abc5","webpack:///./src/components/cells/PeopleNameCell.vue?0958","webpack:///src/components/cells/PeopleNameCell.vue","webpack:///./src/components/cells/PeopleNameCell.vue?1de5","webpack:///./src/components/cells/PeopleNameCell.vue","webpack:///./src/components/widgets/ComboboxStyled.vue?b884","webpack:///src/components/widgets/ComboboxStyled.vue","webpack:///./src/components/widgets/ComboboxStyled.vue?33fc","webpack:///./src/components/widgets/ComboboxStyled.vue","webpack:///./src/components/pages/entities/EntityPreviewFiles.vue?e99a","webpack:///src/components/pages/entities/EntityPreviewFiles.vue","webpack:///./src/components/pages/entities/EntityPreviewFiles.vue?2a80","webpack:///./src/components/pages/entities/EntityPreviewFiles.vue","webpack:///./src/components/cells/PeopleNameCell.vue?0256","webpack:///./src/components/pages/entities/EntityTimeLogs.vue?effb","webpack:///./src/components/widgets/ComboboxStyled.vue?fb91","webpack:///./src/components/lists/EntityTaskList.vue?e4a9","webpack:///./src/components/mixins/entity.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","_v","_s","$t","substring","attrs","isLoading","isError","entries","length","directives","name","rawName","value","expression","_l","taskId","key","id","class","selected","currentTask","on","$event","selectTask","getTask","getTaskType","currentProduction","_e","getTaskEstimation","getTaskDuration","getTaskStartDate","getTaskDueDate","isCurrentUserClient","isCurrentUserVendor","getAssignees","personId","personMap","get","staticRenderFns","mixins","format","components","TableInfo","TaskTypeCell","PeopleAvatar","ValidationTag","props","type","Array","default","Boolean","data","computed","sortedEntries","taskTypeAPriority","taskTypeBPriority","taskTypeA","localeCompare","taskTypeB","methods","onBodyScroll","$refs","headerWrapper","style","left","taskMap","task","start_date","due_date","estimation","duration","taskTypeMap","task_type_id","assignees","$emit","component","newsList","news","dot","red","hasRetakeValue","green","hasDoneValue","formatFullDate","created_at","buildTaskTypeFromNews","task_id","change","author_id","personName","Spinner","TaskTypeName","entity","Object","mounted","reset","episode_id","taskStatus","is_retake","is_done","formatTime","utcDate","person","full_name","getEntityNews","watch","logs","log","formatSimpleDate","date","person_id","formatDuration","PeopleNameCell","getEntityTimeLogs","PeopleName","required","label","combo","open","showList","toggleList","selectedOption","option","selectOption","button","openRoute","ChevronDownIcon","String","options","window","url","find","previewFiles","staticStyle","previewFile","revision","original_name","extension","renderFileSize","file_size","validation_status","getDownloadPath","DownloadIcon","EntityThumbnail","getEntityPreviewFiles","entityMixin","currentSection","zoomLevel","entityNavOptions","zoomOptions","created","beforeDestroy","currentTasks","currentAsset","currentShot","currentEdit","tasks","map","filter","sort","a","b","getTaskTypePriority","tasksStartDate","scheduleItems","children","getFirstStartDate","clone","add","moment","tasksEndDate","getLastEndDate","manDays","rootElement","avatar","color","priority","expanded","loading","editable","limitStartDate","endDate","startDate","real_start_date","end_date","parseSimpleDate","isBefore","taskType","man_days","unresizable","parentElement","c","rootStartDate","rootEndDate","assign","onTaskSelected","$router","push","query","section","schedule","scrollToToday"],"mappings":"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","file":"js/chunk-f7d0f976.806ccc0d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-list\"},[_c('div',[_c('table',{ref:\"headerWrapper\",staticClass:\"datatable\"},[_c('thead',{staticClass:\"datatable-head\"},[_c('tr',{staticClass:\"datatable-row-header\"},[_c('th',{staticClass:\"type\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.task_type'))+\" \")]),_c('th',{staticClass:\"status\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.task_status'))+\" \")]),_c('th',{staticClass:\"estimation\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.estimation').substring(0, 3))+\". \")]),_c('th',{staticClass:\"estimation\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.duration').substring(0, 3))+\". \")]),_c('th',{staticClass:\"startdate\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.start_date_short'))+\" \")]),_c('th',{staticClass:\"duedate\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.due_date'))+\" \")]),_c('th',{staticClass:\"assignees\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.assignees'))+\" \")]),_c('th',{staticClass:\"end-cell\"})])])])]),_c('table-info',{attrs:{\"is-loading\":_vm.isLoading,\"is-error\":_vm.isError}}),(_vm.entries.length > 0)?_c('div',{directives:[{name:\"scroll\",rawName:\"v-scroll\",value:(_vm.onBodyScroll),expression:\"onBodyScroll\"}],staticClass:\"task-list-body\"},[_c('table',{staticClass:\"datatable\"},[_c('tbody',{staticClass:\"datatable-body\"},_vm._l((_vm.sortedEntries),function(taskId){return _c('tr',{key:typeof (taskId) === 'string' ? taskId : taskId.id,class:{\n            selected: _vm.currentTask && _vm.currentTask.id === taskId,\n            'datatable-row': true,\n            'datatable-row--selectable': true\n          },on:{\"click\":function($event){_vm.selectTask(_vm.getTask(taskId))}}},[(_vm.getTaskType(taskId))?_c('task-type-cell',{staticClass:\"type\",attrs:{\"task-type\":_vm.getTaskType(taskId),\"production-id\":_vm.currentProduction.id}}):_vm._e(),_c('td',{staticClass:\"status\"},[(_vm.getTask(taskId))?_c('validation-tag',{attrs:{\"task\":_vm.getTask(taskId),\"is-static\":true}}):_vm._e()],1),_c('td',{staticClass:\"estimation\"},[_vm._v(\" \"+_vm._s(_vm.getTaskEstimation(taskId))+\" \")]),_c('td',{staticClass:\"estimation\"},[_vm._v(\" \"+_vm._s(_vm.getTaskDuration(taskId))+\" \")]),_c('td',{staticClass:\"startdate\"},[_vm._v(\" \"+_vm._s(_vm.getTaskStartDate(taskId))+\" \")]),_c('td',{staticClass:\"duedate\"},[_vm._v(\" \"+_vm._s(_vm.getTaskDueDate(taskId))+\" \")]),_c('td',{staticClass:\"assignees\"},[(!_vm.isCurrentUserClient && !_vm.isCurrentUserVendor)?_c('div',{staticClass:\"flexrow\"},_vm._l((_vm.getAssignees(taskId)),function(personId){return _c('div',{key:personId,staticClass:\"avatar-wrapper\"},[_c('people-avatar',{key:taskId + '-' + personId,staticClass:\"person-avatar flexrow-item\",attrs:{\"person\":_vm.personMap.get(personId),\"size\":30,\"font-size\":15}})],1)}),0):_vm._e()]),_c('td',{staticClass:\"end-cell\"})],1)}),0)])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"data-list\">\n\n  <div>\n    <table class=\"datatable\" ref=\"headerWrapper\">\n      <thead class=\"datatable-head\">\n        <tr class=\"datatable-row-header\">\n          <th class=\"type\">\n            {{ $t('tasks.fields.task_type') }}\n          </th>\n          <th class=\"status\">\n            {{ $t('tasks.fields.task_status') }}\n          </th>\n          <th class=\"estimation\">\n            {{ $t('tasks.fields.estimation').substring(0, 3) }}.\n          </th>\n          <th class=\"estimation\">\n            {{ $t('tasks.fields.duration').substring(0, 3) }}.\n          </th>\n          <th class=\"startdate\">\n            {{ $t('tasks.fields.start_date_short') }}\n          </th>\n          <th class=\"duedate\">\n            {{ $t('tasks.fields.due_date') }}\n          </th>\n          <th class=\"assignees\">\n            {{ $t('tasks.fields.assignees') }}\n          </th>\n          <th class=\"end-cell\"></th>\n        </tr>\n      </thead>\n    </table>\n  </div>\n\n  <table-info\n    :is-loading=\"isLoading\"\n    :is-error=\"isError\"\n  />\n\n  <div class=\"task-list-body\" v-scroll=\"onBodyScroll\" v-if=\"entries.length > 0\">\n    <table class=\"datatable\">\n      <tbody class=\"datatable-body\">\n        <tr\n          :key=\"typeof (taskId) === 'string' ? taskId : taskId.id\"\n          :class=\"{\n            selected: currentTask && currentTask.id === taskId,\n            'datatable-row': true,\n            'datatable-row--selectable': true\n          }\"\n          @click=\"selectTask(getTask(taskId))\"\n          v-for=\"taskId in sortedEntries\"\n        >\n          <task-type-cell\n            class=\"type\"\n            :task-type=\"getTaskType(taskId)\"\n            :production-id=\"currentProduction.id\"\n            v-if=\"getTaskType(taskId)\"\n          />\n          <td class=\"status\">\n            <validation-tag\n              :task=\"getTask(taskId)\"\n              :is-static=\"true\"\n              v-if=\"getTask(taskId)\"\n            />\n          </td>\n          <td class=\"estimation\">\n            {{ getTaskEstimation(taskId) }}\n          </td>\n          <td class=\"estimation\">\n            {{ getTaskDuration(taskId) }}\n          </td>\n          <td class=\"startdate\">\n            {{ getTaskStartDate(taskId) }}\n          </td>\n          <td class=\"duedate\">\n            {{ getTaskDueDate(taskId) }}\n          </td>\n          <td class=\"assignees\">\n            <div\n              class=\"flexrow\"\n              v-if=\"!isCurrentUserClient && !isCurrentUserVendor\"\n            >\n              <div\n                class=\"avatar-wrapper\"\n                :key=\"personId\"\n                v-for=\"personId in getAssignees(taskId)\"\n              >\n                <people-avatar\n                  class=\"person-avatar flexrow-item\"\n                  :key=\"taskId + '-' + personId\"\n                  :person=\"personMap.get(personId)\"\n                  :size=\"30\"\n                  :font-size=\"15\"\n                />\n              </div>\n            </div>\n          </td>\n          <td class=\"end-cell\"></td>\n       </tr>\n      </tbody>\n    </table>\n  </div>\n\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport { formatListMixin } from '@/components/mixins/format'\n\nimport TaskTypeCell from '../cells/TaskTypeName'\nimport TableInfo from '../widgets/TableInfo'\nimport ValidationTag from '../widgets/ValidationTag'\nimport PeopleAvatar from '../widgets/PeopleAvatar'\n\nexport default {\n  name: 'entity-task-list',\n  mixins: [formatListMixin],\n\n  components: {\n    TableInfo,\n    TaskTypeCell,\n    PeopleAvatar,\n    ValidationTag\n  },\n\n  props: {\n    entries: {\n      type: Array,\n      default: () => []\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data () {\n    return {\n      currentTask: null\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'getTaskTypePriority',\n      'isCurrentUserClient',\n      'isCurrentUserVendor',\n      'personMap',\n      'taskMap',\n      'taskTypeMap'\n    ]),\n\n    sortedEntries () {\n      return [...this.entries].sort((taskIdA, taskIdB) => {\n        const taskA = this.getTask(taskIdA)\n        const taskB = this.getTask(taskIdB)\n        const taskTypeA = this.taskTypeMap.get(taskA.task_type_id)\n        const taskTypeB = this.taskTypeMap.get(taskB.task_type_id)\n        const taskTypeAPriority = this.getTaskTypePriority(taskA.task_type_id)\n        const taskTypeBPriority = this.getTaskTypePriority(taskB.task_type_id)\n        if (taskTypeAPriority === taskTypeBPriority) {\n          return taskTypeA.name.localeCompare(taskTypeB.name)\n        } else {\n          return taskTypeAPriority - taskTypeBPriority\n        }\n      })\n    }\n  },\n\n  methods: {\n    ...mapActions([\n    ]),\n\n    onBodyScroll (event, position) {\n      this.$refs.headerWrapper.style.left = `-${position.scrollLeft}px`\n    },\n\n    getTask (task) {\n      if (typeof (task) === 'string') {\n        return this.taskMap.get(task)\n      } else {\n        return task\n      }\n    },\n\n    getTaskStartDate (taskId) {\n      const task = this.getTask(taskId)\n      return task && task.start_date\n        ? task.start_date.substring(0, 10)\n        : ''\n    },\n\n    getTaskDueDate (taskId) {\n      const task = this.getTask(taskId)\n      return task && task.due_date\n        ? task.due_date.substring(0, 10)\n        : ''\n    },\n\n    getTaskEstimation (taskId) {\n      const task = this.getTask(taskId)\n      return task && task.estimation\n        ? this.formatDuration(task.estimation)\n        : ''\n    },\n\n    getTaskDuration (taskId) {\n      const task = this.getTask(taskId)\n      return task && task.duration\n        ? this.formatDuration(task.duration)\n        : ''\n    },\n\n    getTaskType (entry) {\n      const task = this.getTask(entry)\n      return task ? this.taskTypeMap.get(task.task_type_id) : null\n    },\n\n    getAssignees (entry) {\n      const task = this.getTask(entry)\n      return task ? task.assignees : []\n    },\n\n    selectTask (task) {\n      this.currentTask = task\n      this.$emit('task-selected', task)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.data-list {\n  max-width: 500px;\n  margin-top: 0;\n}\n\n.type {\n  max-width: 250px;\n  min-width: 250px;\n}\n\n.estimation {\n  max-width: 50px;\n  min-width: 50px;\n}\n\n.startdate,\n.duedate {\n  max-width: 100px;\n  min-width: 100px;\n}\n\n.status {\n  max-width: 100px;\n  min-width: 100px;\n}\n\n.assignees {\n  max-width: 150px;\n  min-width: 150px;\n}\n\n.end-cell {\n  width: 100%;\n}\n\n.flexrow-item {\n  margin-right: 0.3em;\n}\n\n.avatar-wrapper {\n  margin-right: 0.5em;\n}\n\n.task-list-body {\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.datatable-row-header::after {\n  display: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTaskList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTaskList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntityTaskList.vue?vue&type=template&id=4493a215&scoped=true&\"\nimport script from \"./EntityTaskList.vue?vue&type=script&lang=js&\"\nexport * from \"./EntityTaskList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EntityTaskList.vue?vue&type=style&index=0&id=4493a215&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4493a215\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt1 news flexcolumn\"},[(_vm.isLoading)?_c('div',{staticClass:\"has-text-centered\"},[_c('spinner')],1):(_vm.newsList.length > 0)?_c('div',{staticClass:\"news\"},[_c('div',{staticClass:\"timeline\"},_vm._l((_vm.newsList),function(news){return _c('div',{key:'news-' + news.id},[_c('div',{staticClass:\"news-line timeline-entry flexrow\"},[_c('span',{class:{\n            dot: true,\n            red: _vm.hasRetakeValue(news),\n            green: _vm.hasDoneValue(news)\n          }}),_c('span',{staticClass:\"date flexrow-item\"},[_vm._v(\" \"+_vm._s(_vm.formatFullDate(news.created_at))+\" \")]),_c('div',{staticClass:\"flexrow-item task-type-wrapper\"},[_c('task-type-name',{staticClass:\"task-type-name\",attrs:{\"task-type\":_vm.buildTaskTypeFromNews(news),\"production-id\":_vm.currentProduction.id,\"is-static\":true}})],1),_c('div',{staticClass:\"flexrow-item validation-wrapper\"},[_c('validation-tag',{staticClass:\"validation-tag\",attrs:{\"task\":_vm.taskMap.get(news.task_id),\"is-static\":true,\"thin\":!news.change}})],1),_c('div',{staticClass:\"flexrow-item comment-content\"},[_c('div',[_c('div',{staticClass:\"news-info flexrow\"},[(_vm.personMap.get(news.author_id))?_c('people-avatar',{staticClass:\"flexrow-item\",attrs:{\"person\":_vm.personMap.get(news.author_id),\"size\":30,\"font-size\":14,\"is-link\":false}}):_vm._e(),_c('span',{staticClass:\"explaination flexrow-item\"},[_c('span',{staticClass:\"strong person-name\"},[_vm._v(\" \"+_vm._s(_vm.personName(news))+\" \")])])],1)])])])])}),0)]):_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('entities.news.no_news'))+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mt1 news flexcolumn\">\n    <div class=\"has-text-centered\" v-if=\"isLoading\">\n      <spinner />\n    </div>\n    <div class=\"news\" v-else-if=\"newsList.length > 0\">\n      <div class=\"timeline\">\n        <div\n          :key=\"'news-' + news.id\"\n          v-for=\"news in newsList\"\n        >\n          <div class=\"news-line timeline-entry flexrow\">\n            <span :class=\"{\n              dot: true,\n              red: hasRetakeValue(news),\n              green: hasDoneValue(news)\n            }\"></span>\n            <span class=\"date flexrow-item\">\n              {{ formatFullDate(news.created_at) }}\n            </span>\n\n            <div class=\"flexrow-item task-type-wrapper\">\n              <task-type-name\n                class=\"task-type-name\"\n                :task-type=\"buildTaskTypeFromNews(news)\"\n                :production-id=\"currentProduction.id\"\n                :is-static=\"true\"\n              />\n            </div>\n\n            <div class=\"flexrow-item validation-wrapper\">\n              <validation-tag\n                class=\"validation-tag\"\n                :task=\"taskMap.get(news.task_id)\"\n                :is-static=\"true\"\n                :thin=\"!news.change\"\n                />\n              </div>\n\n              <div class=\"flexrow-item comment-content\">\n                <div>\n                  <div class=\"news-info flexrow\">\n                    <people-avatar\n                      class=\"flexrow-item\"\n                      :person=\"personMap.get(news.author_id)\"\n                      :size=\"30\"\n                      :font-size=\"14\"\n                      :is-link=\"false\"\n                      v-if=\"personMap.get(news.author_id)\"\n                    />\n                    <span\n                      class=\"explaination flexrow-item\"\n                    >\n                      <span class=\"strong person-name\">\n                        {{ personName(news) }}\n                      </span>\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n    </div>\n    <div v-else>\n      {{ $t('entities.news.no_news') }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport moment from 'moment-timezone'\nimport { formatListMixin } from '@/components/mixins/format'\nimport { timeMixin } from '@/components/mixins/time'\n\nimport Spinner from '@/components/widgets/Spinner'\nimport PeopleAvatar from '@/components/widgets/PeopleAvatar'\nimport TaskTypeName from '@/components/widgets/TaskTypeName'\nimport ValidationTag from '@/components/widgets/ValidationTag'\n\nexport default {\n  name: 'entity-news',\n  mixins: [formatListMixin, timeMixin],\n  components: {\n    PeopleAvatar,\n    Spinner,\n    TaskTypeName,\n    ValidationTag\n  },\n\n  data () {\n    return {\n      isLoading: false,\n      newsList: []\n    }\n  },\n\n  props: {\n    entity: {\n      type: Object,\n      default: () => {}\n    }\n  },\n\n  mounted () {\n    if (!this.entity) return\n    this.reset()\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'personMap',\n      'taskMap',\n      'taskTypeMap',\n      'taskStatusMap',\n      'timezone'\n    ])\n  },\n\n  methods: {\n    ...mapActions([\n      'getEntityNews'\n    ]),\n\n    buildTaskTypeFromNews (news) {\n      return {\n        ...this.taskTypeMap.get(news.task_type_id),\n        episode_id: news.episode_id\n      }\n    },\n\n    getTaskType (news) {\n      const task = this.taskMap.get(news.task_id)\n      return this.taskTypeMap.get(task.task_type_id)\n    },\n\n    hasRetakeValue (news) {\n      const taskStatus = this.taskStatusMap.get(news.task_status_id)\n      return taskStatus ? news.change && taskStatus.is_retake : false\n    },\n\n    hasDoneValue (news) {\n      const taskStatus = this.taskStatusMap.get(news.task_status_id)\n      return taskStatus ? news.change && taskStatus.is_done : false\n    },\n\n    formatTime (date) {\n      const utcDate = moment.tz(date, 'UTC').tz(this.timezone)\n      return utcDate.format('HH:mm')\n    },\n\n    personName (news) {\n      const person = this.personMap.get(news.author_id)\n      return person ? person.full_name : ''\n    },\n\n    reset () {\n      this.isLoading = true\n      this.getEntityNews(this.entity.id)\n        .then(data => {\n          this.newsList = data.data\n          this.isLoading = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.newsList = []\n          this.isLoading = false\n        })\n    }\n  },\n\n  watch: {\n    entity () {\n      if (this.entity) this.reset()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.news {\n  overflow: auto;\n}\n\n.timeline-wrapper {\n  margin: auto;\n  max-width: 875px;\n  padding-top: 25px;\n  padding-left: 25px;\n  padding-right: 25px;\n  background: $white;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);\n}\n\n.timeline {\n  border-left: 4px solid $blue-light;\n  margin-left: 8px;\n  padding-bottom: 2em;\n\n  .subtitle {\n    margin-top: 2em;\n  }\n\n  .timeline-entry {\n    position: relative;\n\n    .dot {\n      position: absolute;\n      display: block;\n      left: -9px;\n      background: $blue-light;\n      width: 14px;\n      height: 14px;\n      border-radius: 16px;\n      z-index: 10;\n\n      &.red {\n        background: $red;\n      }\n\n      &.green {\n        background: $light-green;\n      }\n    }\n  }\n\n  .task-type-wrapper {\n    min-width: 100px;\n  }\n\n  .validation-wrapper {\n    min-width: 60px;\n  }\n\n  .date {\n    min-width: 30px;\n  }\n\n  .selected .date {\n    color: $dark-grey;\n  }\n\n  .explaination,\n  .explaination span {\n    display: inline;\n\n    &.entity-thumbnail {\n      display: inline-block;\n    }\n  }\n}\n\n.date {\n  margin-left: 0.5em;\n  margin-right: 3em;\n  font-size: 0.8em;\n  color: $grey;\n}\n\n.news-info {\n  vertical-align: middle;\n\n  span,\n  a {\n    vertical-align: middle;\n    display: inline-flex;\n    align-items: center;\n  }\n}\n\n.news-line {\n  padding: 0.5em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityNews.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityNews.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntityNews.vue?vue&type=template&id=ae9c27ce&scoped=true&\"\nimport script from \"./EntityNews.vue?vue&type=script&lang=js&\"\nexport * from \"./EntityNews.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EntityNews.vue?vue&type=style&index=0&id=ae9c27ce&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ae9c27ce\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityPreviewFiles.vue?vue&type=style&index=0&id=00091054&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt1 wrapper time-logs\"},[(_vm.isLoading)?_c('div',{staticClass:\"has-text-centered\"},[_c('spinner')],1):(_vm.logs.length > 0)?_c('div',[_c('table',{staticClass:\"datatable\"},[_c('thead',{staticClass:\"datatable-head\"},[_c('tr',{staticClass:\"datatable-row-header\"},[_c('th',{staticClass:\"date\"},[_vm._v(\" \"+_vm._s(_vm.$t('main.date'))+\" \")]),_c('th',{staticClass:\"person\"},[_vm._v(\" \"+_vm._s(_vm.$t('main.person'))+\" \")]),_c('th',{staticClass:\"type\"},[_vm._v(\" \"+_vm._s(_vm.$t('entities.preview_files.task_type'))+\" \")]),_c('th',{staticClass:\"duration\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.duration'))+\" \")]),_c('th',{staticClass:\"end-cell\"})])])]),_c('table',{staticClass:\"datatable\"},[_c('tbody',{staticClass:\"datatable-body\"},_vm._l((_vm.logs),function(log){return _c('tr',{key:log.id,staticClass:\"datatable-row\"},[_c('td',{staticClass:\"date\"},[_vm._v(\" \"+_vm._s(_vm.formatSimpleDate(log.date))+\" \")]),_c('people-name-cell',{staticClass:\"person\",attrs:{\"person\":_vm.personMap.get(log.person_id)}}),_c('task-type-name',{staticClass:\"type\",attrs:{\"task-type\":_vm.getTaskType(log),\"production-id\":_vm.currentProduction.id}}),_c('td',{staticClass:\"duration\"},[_vm._v(\" \"+_vm._s(_vm.formatDuration(log.duration))+\" \")]),_c('td',{staticClass:\"end-cell\"})],1)}),0)])]):_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('entities.logs.no_logs'))+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mt1 wrapper time-logs\">\n    <div class=\"has-text-centered\" v-if=\"isLoading\">\n      <spinner />\n    </div>\n    <div v-else-if=\"logs.length > 0\">\n      <table class=\"datatable\">\n        <thead class=\"datatable-head\">\n          <tr class=\"datatable-row-header\">\n            <th class=\"date\">\n              {{ $t('main.date') }}\n            </th>\n            <th class=\"person\">\n              {{ $t('main.person') }}\n            </th>\n            <th class=\"type\">\n              {{ $t('entities.preview_files.task_type') }}\n            </th>\n            <th class=\"duration\">\n              {{ $t('tasks.fields.duration') }}\n            </th>\n            <th class=\"end-cell\"></th>\n          </tr>\n        </thead>\n      </table>\n      <table class=\"datatable\">\n        <tbody class=\"datatable-body\">\n          <tr\n            :key=\"log.id\"\n            class=\"datatable-row\"\n            v-for=\"log in logs\"\n          >\n            <td class=\"date\">\n              {{ formatSimpleDate(log.date) }}\n            </td>\n            <people-name-cell\n              class=\"person\"\n              :person=\"personMap.get(log.person_id)\"\n            />\n            <task-type-name\n              class=\"type\"\n              :task-type=\"getTaskType(log)\"\n              :production-id=\"currentProduction.id\"\n            />\n            <td class=\"duration\">\n              {{ formatDuration(log.duration) }}\n            </td>\n            <td class=\"end-cell\"></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div v-else>\n      {{ $t('entities.logs.no_logs') }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport { formatListMixin } from '@/components/mixins/format'\nimport PeopleNameCell from '@/components/cells/PeopleNameCell'\nimport Spinner from '@/components/widgets/Spinner'\nimport TaskTypeName from '@/components/cells/TaskTypeName'\n\nexport default {\n  name: 'entity-time-logs',\n  mixins: [formatListMixin],\n  components: {\n    PeopleNameCell,\n    Spinner,\n    TaskTypeName\n  },\n\n  props: {\n    entity: {\n      type: Object,\n      default: () => {}\n    }\n  },\n\n  data () {\n    return {\n      logs: [],\n      isLoading: false\n    }\n  },\n\n  mounted () {\n    if (!this.entity) return\n    this.reset()\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'personMap',\n      'taskMap',\n      'taskTypeMap'\n    ])\n  },\n\n  methods: {\n    ...mapActions([\n      'getEntityTimeLogs'\n    ]),\n\n    getTaskType (log) {\n      const task = this.taskMap.get(log.task_id)\n      return this.taskTypeMap.get(task.task_type_id)\n    },\n\n    reset () {\n      this.isLoading = true\n      this.getEntityTimeLogs(this.entity.id)\n        .then(logs => {\n          this.logs = logs\n          this.isLoading = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.logs = []\n          this.isLoading = false\n        })\n    }\n  },\n\n  watch: {\n    entity () {\n      if (this.entity) this.reset()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.date { width: 100px; }\n.person { width: 200px; }\n.type { width: 150px; }\n.duration { width: 50px; }\n\n.time-logs {\n  overflow-y: auto;\n}\n\n.dark .wrapper.time-logs {\n  background: transparent;\n}\n\n.datatable-row-header::after {\n  display: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTimeLogs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTimeLogs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntityTimeLogs.vue?vue&type=template&id=acb7aec0&scoped=true&\"\nimport script from \"./EntityTimeLogs.vue?vue&type=script&lang=js&\"\nexport * from \"./EntityTimeLogs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EntityTimeLogs.vue?vue&type=style&index=0&id=acb7aec0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"acb7aec0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityNews.vue?vue&type=style&index=0&id=ae9c27ce&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{staticClass:\"name\",attrs:{\"scope\":\"row\"}},[_c('div',{staticClass:\"people-name\"},[_c('people-avatar',{staticClass:\"avatar\",attrs:{\"person\":_vm.person}}),_c('people-name',{staticClass:\"people-name\",attrs:{\"with-link\":\"\",\"person\":_vm.person}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<td scope=\"row\" class=\"name\">\n  <div class=\"people-name\">\n    <people-avatar class=\"avatar\" :person=\"person\" />\n    <people-name class=\"people-name\" with-link :person=\"person\" />\n  </div>\n</td>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport PeopleAvatar from '../widgets/PeopleAvatar'\nimport PeopleName from '../widgets/PeopleName'\n\nexport default {\n  name: 'people-name-cell',\n  components: {\n    PeopleName,\n    PeopleAvatar\n  },\n\n  props: {\n    person: {\n      type: Object,\n      required: true\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n    ])\n  },\n  methods: {\n    ...mapActions([\n    ])\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.people-name {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n}\n\n.people-name {\n  margin-left: 0.6em;\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleNameCell.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleNameCell.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PeopleNameCell.vue?vue&type=template&id=1e7d2e98&scoped=true&\"\nimport script from \"./PeopleNameCell.vue?vue&type=script&lang=js&\"\nexport * from \"./PeopleNameCell.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PeopleNameCell.vue?vue&type=style&index=0&id=1e7d2e98&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e7d2e98\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.label.length > 0)?_c('label',{staticClass:\"label\"},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")]):_vm._e(),_c('div',{class:{\n      combo: true,\n      open: _vm.showList\n    },on:{\"click\":_vm.toggleList}},[_c('div',{staticClass:\"flexrow\"},[_c('div',{staticClass:\"selected-line flexrow-item\"},[_vm._v(\" \"+_vm._s(_vm.selectedOption ? _vm.selectedOption.label : '')+\" \")]),_c('chevron-down-icon',{staticClass:\"down-icon flexrow-item\"})],1),(_vm.showList)?_c('div',{ref:\"select\",staticClass:\"select-input\",on:{\"click\":_vm.toggleList}},_vm._l((_vm.options),function(option){return _c('div',{key:option.id,staticClass:\"option-line\",on:{\"click\":function($event){return _vm.selectOption(option)},\"mouseup\":function($event){if('button' in $event && $event.button !== 1){ return null; }return _vm.openRoute(option)}}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),0):_vm._e()]),_c('div',{class:{\n      'c-mask': true,\n      'is-active': _vm.showList\n    },on:{\"click\":_vm.toggleList}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <label class=\"label\" v-if=\"label.length > 0\">\n    {{ label }}\n  </label>\n  <div\n    :class=\"{\n      combo: true,\n      open: showList\n    }\"\n    @click=\"toggleList\"\n  >\n    <div\n      class=\"flexrow\"\n    >\n      <div\n        class=\"selected-line flexrow-item\"\n      >\n        {{ selectedOption ? selectedOption.label : '' }}\n      </div>\n      <chevron-down-icon class=\"down-icon flexrow-item\"/>\n    </div>\n    <div\n      class=\"select-input\"\n      ref=\"select\"\n      @click=\"toggleList\"\n      v-if=\"showList\"\n    >\n      <div\n        class=\"option-line\"\n        v-for=\"option in options\"\n        @click=\"selectOption(option)\"\n        @click.middle=\"openRoute(option)\"\n        :key=\"option.id\"\n      >\n        {{ option.label }}\n      </div>\n    </div>\n  </div>\n  <div\n    @click=\"toggleList\"\n    :class=\"{\n      'c-mask': true,\n      'is-active': showList\n    }\"\n  >\n  </div>\n</div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { ChevronDownIcon } from 'vue-feather-icons'\n\nexport default {\n  name: 'combobox-styled',\n\n  components: {\n    ChevronDownIcon\n  },\n\n  data () {\n    return {\n      selectedOption: {\n        label: '',\n        value: ''\n      },\n      showList: false\n    }\n  },\n\n  props: {\n    label: {\n      default: '',\n      type: String\n    },\n    options: {\n      default: () => [],\n      type: Array\n    },\n    value: {\n      default: '',\n      type: String\n    }\n  },\n\n  mounted () {\n    if (this.options.length > 0) {\n      this.selectedOption = this.options[0]\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'isDarkTheme'\n    ])\n  },\n\n  methods: {\n    selectOption (option) {\n      this.$emit('input', option.value)\n      this.selectedOption = option\n      this.toggleList()\n    },\n\n    openRoute (option) {\n      const ahref = this.$router.resolve(option.route).href\n      const url =\n        `${window.location.protocol}//${window.location.host}${ahref}`\n      window.open(url, '_blank')\n    },\n\n    toggleList () {\n      this.showList = !this.showList\n    }\n  },\n\n  watch: {\n    options () {\n      if (this.options.length > 0) {\n        const option = this.options.find(o => o.value === this.value)\n        if (option) {\n          this.selectedOption = option\n        } else {\n          this.selectedOption = this.options[0]\n        }\n      }\n    },\n\n    value () {\n      this.selectedOption = this.options.find(o => o.value === this.value)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dark {\n  .select-input,\n  .selected-line,\n  .option-line,\n  .combo {\n    background: $dark-grey-light;\n    border-color: $dark-grey;\n  }\n\n  .option-line:hover {\n    background: $dark-purple;\n  }\n}\n\n.combo {\n  background: $white;\n  color: var(--text);\n  border: 1px solid $light-grey-light;\n  border-radius: 0.5em;\n  user-select: none;\n  cursor: pointer;\n  margin: 0;\n  margin-top: 1px;\n  max-width: 200px;\n  padding: 0.5em;\n  position: relative;\n  vertical-align: middle;\n\n  &.open {\n    border-bottom-left-radius: 0em;\n    border-bottom-right-radius: 0em;\n  }\n}\n\n.combo:hover {\n  border: 1px solid $green;\n}\n\n.selected-line {\n  flex: 1;\n}\n\n.option-line {\n  background: $white;\n  border-bottom: 1px solid $light-grey-light;\n  cursor: pointer;\n  margin: 0;\n  padding: 0.5em;\n  min-width: 150px;\n  width: inherit;\n\n  &:hover {\n    background: $purple;\n  }\n}\n\n.down-icon {\n  width: 15px;\n  min-width: 15px;\n  margin-right: 0.4em;\n  color: $green;\n  cursor: pointer;\n}\n\n.select-input {\n  background: var(--background);\n  border: 1px solid $light-grey-light;\n  border-bottom-left-radius: 1em;\n  border-bottom-right-radius: 1em;\n  left: 0;\n  margin-left: -1px;\n  max-height: 180px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  position: absolute;\n  width: inherit;\n  top: 38px;\n  z-index: 2000;\n\n  .option-line {\n    padding-right: 27px;\n  }\n}\n\n.c-mask {\n  z-index: 199;\n}\n\n.field .label {\n  padding-top: 5px;\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxStyled.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxStyled.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComboboxStyled.vue?vue&type=template&id=597e1434&scoped=true&\"\nimport script from \"./ComboboxStyled.vue?vue&type=script&lang=js&\"\nexport * from \"./ComboboxStyled.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ComboboxStyled.vue?vue&type=style&index=0&id=597e1434&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"597e1434\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt1 flexcolumn wrapper preview-files\"},[(_vm.isLoading)?_c('div',{staticClass:\"has-text-centered\"},[_c('spinner')],1):(_vm.previewFiles.length > 0)?_c('div',[_c('table',{staticClass:\"datatable\"},[_c('thead',{staticClass:\"datatable-head\"},[_c('tr',{staticClass:\"datatable-row-header\"},[_c('th',{staticClass:\"thumbnail\"}),_c('th',{staticClass:\"type\"},[_vm._v(\" \"+_vm._s(_vm.$t('entities.preview_files.task_type'))+\" \")]),_c('th',{staticClass:\"revision\"},[_vm._v(\" \"+_vm._s(_vm.$t('entities.preview_files.revision'))+\" \")]),_c('th',{staticClass:\"original-name\"},[_vm._v(\" \"+_vm._s(_vm.$t('entities.preview_files.original_file_name'))+\" \")]),_c('th',{staticClass:\"extension\"},[_vm._v(\" \"+_vm._s(_vm.$t('entities.preview_files.extension'))+\" \")]),_c('th',{staticClass:\"size\"},[_vm._v(\" \"+_vm._s(_vm.$t('entities.preview_files.size'))+\" \")]),_c('th',{staticClass:\"status\"},[_vm._v(\" \"+_vm._s(_vm.$t('entities.preview_files.status'))+\" \")]),_c('th',{staticClass:\"uploader\"},[_vm._v(\" \"+_vm._s(_vm.$t('entities.preview_files.uploader'))+\" \")]),_c('th',{staticClass:\"person\"}),_c('th',{staticClass:\"end-cell\"})])])]),_c('table',{staticClass:\"datatable\",staticStyle:{\"overflow\":\"auto\"}},[_c('tbody',{staticClass:\"datatable-body\"},_vm._l((_vm.previewFiles),function(previewFile){return _c('tr',{key:previewFile.id,staticClass:\"datatable-row\"},[_c('td',{staticClass:\"thumbnail\"},[_c('entity-thumbnail',{staticClass:\"preview-thumbnail\",attrs:{\"preview-file-id\":previewFile.id,\"empty-width\":60,\"width\":60}})],1),_c('task-type-name',{staticClass:\"type\",attrs:{\"task-type\":_vm.getTaskType(previewFile),\"production-id\":_vm.currentProduction.id}}),_c('td',{staticClass:\"revision\"},[_vm._v(\" \"+_vm._s(previewFile.revision)+\" \")]),_c('td',{staticClass:\"original-name\"},[_vm._v(\" \"+_vm._s(previewFile.original_name)+\" \")]),_c('td',{staticClass:\"extension\"},[_vm._v(\" \"+_vm._s(previewFile.extension)+\" \")]),_c('td',{staticClass:\"size\"},[_vm._v(\" \"+_vm._s(_vm.renderFileSize(previewFile.file_size))+\" \")]),_c('td',{staticClass:\"status\"},[_vm._v(\" \"+_vm._s(previewFile.validation_status)+\" \")]),_c('people-name-cell',{staticClass:\"person\",attrs:{\"person\":_vm.personMap.get(previewFile.person_id)}}),_c('td',{staticClass:\"download\"},[_c('a',{staticClass:\"button flexrow-item\",attrs:{\"href\":_vm.getDownloadPath(previewFile.id),\"title\":_vm.$t('playlists.actions.download_file')}},[_c('download-icon',{staticClass:\"icon is-small\"})],1)])],1)}),0)])]):_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('entities.preview_files.no_preview_files'))+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mt1 flexcolumn wrapper preview-files\">\n    <div class=\"has-text-centered\" v-if=\"isLoading\">\n      <spinner />\n    </div>\n    <div v-else-if=\"previewFiles.length > 0\">\n      <table class=\"datatable\">\n        <thead class=\"datatable-head\">\n          <tr class=\"datatable-row-header\">\n            <th class=\"thumbnail\">\n            </th>\n            <th class=\"type\">\n              {{ $t('entities.preview_files.task_type') }}\n            </th>\n            <th class=\"revision\">\n              {{ $t('entities.preview_files.revision') }}\n            </th>\n            <th class=\"original-name\">\n              {{ $t('entities.preview_files.original_file_name') }}\n            </th>\n            <th class=\"extension\">\n              {{ $t('entities.preview_files.extension') }}\n            </th>\n            <th class=\"size\">\n              {{ $t('entities.preview_files.size') }}\n            </th>\n            <th class=\"status\">\n              {{ $t('entities.preview_files.status') }}\n            </th>\n            <th class=\"uploader\">\n              {{ $t('entities.preview_files.uploader') }}\n            </th>\n            <th class=\"person\"></th>\n            <th class=\"end-cell\"></th>\n          </tr>\n        </thead>\n      </table>\n      <table class=\"datatable\" style=\"overflow: auto;\">\n        <tbody class=\"datatable-body\">\n          <tr\n            :key=\"previewFile.id\"\n            class=\"datatable-row\"\n            v-for=\"previewFile in previewFiles\"\n          >\n            <td\n              class=\"thumbnail\"\n            >\n              <entity-thumbnail\n                class=\"preview-thumbnail\"\n                :preview-file-id=\"previewFile.id\"\n                :empty-width=\"60\"\n                :width=\"60\"\n              />\n            </td>\n\n            <task-type-name\n              class=\"type\"\n              :task-type=\"getTaskType(previewFile)\"\n              :production-id=\"currentProduction.id\"\n            />\n            <td class=\"revision\">\n              {{ previewFile.revision }}\n            </td>\n            <td class=\"original-name\">\n              {{ previewFile.original_name }}\n            </td>\n            <td class=\"extension\">\n              {{ previewFile.extension }}\n            </td>\n            <td class=\"size\">\n              {{ renderFileSize(previewFile.file_size) }}\n            </td>\n            <td class=\"status\">\n              {{ previewFile.validation_status }}\n            </td>\n\n            <people-name-cell\n              class=\"person\"\n              :person=\"personMap.get(previewFile.person_id)\"\n            />\n            <td class=\"download\">\n              <a\n                class=\"button flexrow-item\"\n                :href=\"getDownloadPath(previewFile.id)\"\n                :title=\"$t('playlists.actions.download_file')\"\n              >\n                <download-icon class=\"icon is-small\" />\n              </a>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div v-else>\n      {{ $t('entities.preview_files.no_preview_files') }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nimport { DownloadIcon } from 'vue-feather-icons'\nimport { renderFileSize } from '@/lib/render'\nimport EntityThumbnail from '@/components/widgets/EntityThumbnail'\nimport PeopleNameCell from '@/components/cells/PeopleNameCell'\nimport Spinner from '@/components/widgets/Spinner'\nimport TaskTypeName from '@/components/cells/TaskTypeName'\n\nexport default {\n  name: 'entity-preview-files',\n  components: {\n    DownloadIcon,\n    EntityThumbnail,\n    PeopleNameCell,\n    Spinner,\n    TaskTypeName\n  },\n\n  data () {\n    return {\n      isLoading: false,\n      previewFiles: []\n    }\n  },\n\n  props: {\n    entity: {\n      type: Object,\n      default: () => {}\n    }\n  },\n\n  mounted () {\n    if (!this.entity) return\n    this.reset()\n  },\n\n  computed: {\n    ...mapGetters([\n      'currentProduction',\n      'personMap',\n      'taskMap',\n      'taskTypeMap'\n    ])\n  },\n\n  methods: {\n    ...mapActions([\n      'getEntityPreviewFiles'\n    ]),\n\n    getTaskType (previewFile) {\n      const task = this.taskMap.get(previewFile.task_id)\n      return this.taskTypeMap.get(task.task_type_id)\n    },\n\n    getDownloadPath (previewFileId) {\n      const type = this.isMovie ? 'movies' : 'pictures'\n      return `/api/${type}/originals/preview-files/` +\n             `${previewFileId}/download`\n    },\n\n    renderFileSize,\n\n    reset () {\n      this.isLoading = true\n      this.getEntityPreviewFiles(this.entity.id)\n        .then(previewFiles => {\n          this.previewFiles = previewFiles\n          this.isLoading = false\n        })\n        .catch(err => {\n          console.error(err)\n          this.previewFiles = []\n          this.isLoading = false\n        })\n    }\n  },\n\n  watch: {\n    entity () {\n      if (this.entity) this.reset()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.datatable-body {\n  overflow-y: auto;\n}\n\n.thumbnail { padding-top: 10px; width: 80px; }\n.type {  width: 150px; }\n.revision { width: 80px; }\n.original-name { width: 300px; }\n.extension { width: 80px; }\n.size { width: 50px; }\n.status { width: 80px; }\n.download { width: 40px; }\n\n.preview-files {\n  overflow-y: auto;\n}\n.dark .preview-files.wrapper { background: transparent; }\n\n.preview-thumbnail {\n  cursor: pointer;\n  border-radius: 4px;\n}\n\n.datatable-row-header::after {\n  display: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityPreviewFiles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityPreviewFiles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntityPreviewFiles.vue?vue&type=template&id=00091054&scoped=true&\"\nimport script from \"./EntityPreviewFiles.vue?vue&type=script&lang=js&\"\nexport * from \"./EntityPreviewFiles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EntityPreviewFiles.vue?vue&type=style&index=0&id=00091054&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00091054\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleNameCell.vue?vue&type=style&index=0&id=1e7d2e98&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTimeLogs.vue?vue&type=style&index=0&id=acb7aec0&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ComboboxStyled.vue?vue&type=style&index=0&id=597e1434&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTaskList.vue?vue&type=style&index=0&id=4493a215&lang=scss&scoped=true&\"","import {\n  getFirstStartDate,\n  getLastEndDate,\n  parseSimpleDate\n} from '@/lib/time'\nimport moment from 'moment'\n\n/*\n * Common functions to shot, asset and edit pages.\n */\nexport const entityMixin = {\n  data () {\n    return {\n      currentSection: 'Casting',\n      zoomLevel: 1,\n      entityNavOptions: [\n        { label: 'Casting', value: 'casting' },\n        { label: 'Schedule', value: 'schedule' },\n        { label: 'Preview Files', value: 'preview-files' },\n        { label: 'Activity', value: 'activity' },\n        { label: 'Timelog', value: 'time-logs' }\n      ],\n      zoomOptions: [\n        { label: '1', value: 1 },\n        { label: '2', value: 2 },\n        { label: '3', value: 3 }\n      ]\n    }\n  },\n\n  created () {\n  },\n\n  mounted () {\n  },\n\n  beforeDestroy () {\n  },\n\n  computed: {\n    currentTasks () {\n      const entity = this.currentAsset || this.currentShot || this.currentEdit\n      return entity\n        ? entity\n          .tasks\n          .map(taskId => this.taskMap.get(taskId))\n          .filter(task => task)\n          .sort((a, b) => {\n            const taskTypeAPriority = this.getTaskTypePriority(a.task_type_id)\n            const taskTypeBPriority = this.getTaskTypePriority(b.task_type_id)\n            return taskTypeAPriority - taskTypeBPriority\n          })\n        : []\n    },\n\n    tasksStartDate () {\n      if (this.scheduleItems.length > 0 &&\n          this.scheduleItems[0].children.length > 0) {\n        return getFirstStartDate(this.scheduleItems[0].children)\n          .clone()\n          .add(-60, 'days')\n      } else {\n        return moment()\n      }\n    },\n\n    tasksEndDate () {\n      if (this.scheduleItems.length > 0 &&\n          this.scheduleItems[0].children.length > 0) {\n        return getLastEndDate(this.scheduleItems[0].children)\n          .clone()\n          .add(60, 'days')\n      } else {\n        return moment().add(30, 'days')\n      }\n    },\n\n    scheduleItems () {\n      let manDays = 0\n      const rootElement = {\n        avatar: false,\n        id: 'root',\n        name: 'Tasks',\n        color: '#888',\n        priority: 1,\n        expanded: true,\n        loading: false,\n        children: [],\n        editable: false\n      }\n      const limitStartDate = moment()\n      const children = this.currentTasks.map(task => {\n        const estimation = this.formatDuration(task.estimation)\n        let startDate = limitStartDate.clone()\n        let endDate\n\n        if (!task.start_date && !task.real_start_date &&\n            !task.due_date && !task.end_date) return null\n\n        if (task.start_date) {\n          startDate = parseSimpleDate(task.start_date)\n        } else if (task.real_start_date) {\n          startDate = parseSimpleDate(task.real_start_date)\n        }\n\n        if (task.due_date) {\n          endDate = parseSimpleDate(task.due_date)\n        } else if (task.end_date) {\n          endDate = parseSimpleDate(task.end_date)\n        } else if (task.estimation) {\n          endDate = startDate.clone().add(estimation, 'days')\n        }\n\n        if (!endDate || endDate.isBefore(startDate)) {\n          endDate = startDate.clone().add(1, 'days')\n        }\n        if (estimation) manDays += task.estimation\n        const taskType = this.taskTypeMap.get(task.task_type_id)\n\n        return {\n          ...task,\n          name: taskType.name,\n          startDate: startDate,\n          endDate: endDate,\n          expanded: false,\n          loading: false,\n          man_days: estimation,\n          editable: false,\n          unresizable: false,\n          parentElement: rootElement,\n          color: taskType.color,\n          children: []\n        }\n      }).filter(c => c !== null)\n      let rootStartDate = moment()\n      let rootEndDate = moment().add('days', 1)\n      if (children.length > 0) {\n        rootStartDate = getFirstStartDate(children)\n        rootEndDate = getLastEndDate(children)\n      }\n      Object.assign(rootElement, {\n        children: children,\n        startDate: rootStartDate,\n        endDate: rootEndDate,\n        man_days: manDays\n      })\n      return [rootElement]\n    }\n  },\n\n  methods: {\n    onTaskSelected (task) {\n      if (!this.currentTask || this.currentTask.id !== task.id) {\n        this.currentTask = task\n      } else {\n        this.currentTask = null\n      }\n    }\n  },\n\n  watch: {\n    currentSection () {\n      this.$router.push({\n        query: { section: this.currentSection }\n      })\n      const schedule = this.$refs['schedule-widget']\n      if (this.currentSection === 'schedule' && schedule) {\n        schedule.scrollToToday()\n      }\n    }\n  }\n}\n"],"sourceRoot":""}